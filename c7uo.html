  <!DOCTYPE html>
<html lang="en">

<head>
    <title>Live Stream Player</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <meta name="referrer" content="no-referrer">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/plyr@3.6.12/dist/plyr.css">
    <style>
        body {
            background-color: #000;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        html, body {
            height: 100%;
        }
        video {
            width: 100%;
            height: 100%;
            max-width: 100%;
        }
        .plyr {
            height: 100%;
        }
    </style>
    <style type="text/css">* {user-select: auto !important; -webkit-user-select: auto !important;}</style>
    <input type="hidden" id="inject_idm_text_selection">
</head>

<body>
    <div hidden="" id="sprite-plyr">
        <!-- SVG symbols for Plyr controls -->
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
            <symbol id="plyr-airplay" viewBox="0 0 18 18">
                <path d="M16 1H2a1 1 0 00-1 1v10a1 1 0 001 1h3v-2H3V3h12v8h-2v2h3a1 1 0 001-1V2a1 1 0 00-1-1z"></path>
                <path d="M4 17h10l-5-6z"></path>
            </symbol>
            <!-- Other symbols omitted for brevity -->
        </svg>
    </div>

    <div tabindex="0" class="plyr plyr--full-ui plyr--video plyr--html5 plyr--fullscreen-enabled plyr--is-touch plyr--hide-controls plyr--playing">
        <div class="plyr__controls">
            <button class="plyr__controls__item plyr__control plyr__control--pressed" type="button" data-plyr="play" aria-label="Pause">
                <svg class="icon--pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-pause"></use></svg>
                <svg class="icon--not-pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-play"></use></svg>
                <span class="label--pressed plyr__sr-only">Pause</span>
                <span class="label--not-pressed plyr__sr-only">Play</span>
            </button>
            <div class="plyr__controls__item plyr__volume">
                <button type="button" class="plyr__control plyr__control--pressed" data-plyr="mute">
                    <svg class="icon--pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-muted"></use></svg>
                    <svg class="icon--not-pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-volume"></use></svg>
                    <span class="label--pressed plyr__sr-only">Unmute</span>
                    <span class="label--not-pressed plyr__sr-only">Mute</span>
                </button>
                <input data-plyr="volume" type="range" min="0" max="1" step="0.05" value="1" autocomplete="off" role="slider" aria-label="Volume" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="plyr-volume-5285" aria-valuetext="0.0%" style="--value: 0%; user-select: none; touch-action: manipulation;">
            </div>
            <button class="plyr__controls__item plyr__control" type="button" data-plyr="fullscreen">
                <svg class="icon--pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-exit-fullscreen"></use></svg>
                <svg class="icon--not-pressed" aria-hidden="true" focusable="false"><use xlink:href="#plyr-enter-fullscreen"></use></svg>
                <span class="label--pressed plyr__sr-only">Exit fullscreen</span>
                <span class="label--not-pressed plyr__sr-only">Enter fullscreen</span>
            </button>
        </div>
        <div class="plyr__video-wrapper">
            <video id="player" autoplay="" muted="" crossorigin="" playsinline="" src="blob:https://starry7c.github.io/a7e30daf-2477-48ed-a111-152772164f8b"></video>
            <div class="plyr__poster"></div>
        </div>
        <div class="plyr__captions"></div>
        <button type="button" class="plyr__control plyr__control--overlaid plyr__control--pressed" data-plyr="play" aria-label="Pause">
            <svg aria-hidden="true" focusable="false"><use xlink:href="#plyr-play"></use></svg>
            <span class="plyr__sr-only">Play</span>
        </button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/hls.js@1.1.4/dist/hls.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/plyr@3.6.12/dist/plyr.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const video = document.getElementById('player');

            // Function to get query parameters
            function getQueryParam(param) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(param);
            }

            const source = getQueryParam('stream');
            if (!source) {
                document.body.innerHTML = '<p style="color:white; text-align:center; margin-top:20%;">No stream link provided!</p>';
                return;
            }

            if (Hls.isSupported()) {
                const hls = new Hls({ maxMaxBufferLength: 100 });
                hls.loadSource(source);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, () => {
                    const availableQualities = hls.levels.map(level => level.height);
                    const defaultQuality = availableQualities[0];
                    const player = new Plyr(video, {
                        controls: ['play-large', 'play', 'mute', 'volume', 'settings', 'fullscreen'],
                        quality: {
                            default: defaultQuality,
                            options: availableQualities,
                            forced: true,
                            onChange: (quality) => {
                                hls.levels.forEach((level, levelIndex) => {
                                    if (level.height === quality) {
                                        hls.currentLevel = levelIndex;
                                    }
                                });
                            }
                        }
                    });
                });
            } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                video.src = source;
                new Plyr(video);
            } else {
                document.body.innerHTML = '<p>Your browser does not support HLS playback.</p>';
            }
        });

        window.addEventListener("load", function () {
            if (window.confirm("Join @cric match for more updates?")) {
                window.location.href = "Sports_live_linkss";
            }
        });
    </script>
</body>
</html>
